<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Mirror</title>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: Arial, sans-serif;
      padding: 40px;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-bottom: 10px;
      font-size: 16px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    pre {
      margin-top: 20px;
      background: #222;
      padding: 15px;
      white-space: pre-wrap;
    }
  </style>
</head>

<body>

  <h1>Mirror</h1>

  <textarea id="input" placeholder="Bir düşünce ya da karar yaz..."></textarea>

  <br>

  <button onclick="send()">Gönder</button>

  <pre id="output"></pre>

  <script>
    async function send() {
      const inputEl = document.getElementById("input");
      const outputEl = document.getElementById("output");

      const text = inputEl.value.trim();
      if (!text) {
        outputEl.textContent = "Lütfen bir metin gir.";
        return;
      }

      try {
        const res = await fetch("/input", {
          method: "POST",
          headers: {
            headers: {
  "Content-Type": "application/json",
  "x-beta-key": "mirror-closed"
}

          },
          body: JSON.stringify({
            session_id: "web-session",
            text: text
          })
        });

        const data = await res.json();
        outputEl.textContent = JSON.stringify(data, null, 2);

      } catch (err) {
        console.error(err);
        outputEl.textContent = "Sunucuya bağlanılamadı.";
      }
    }
  </script>

</body>
</html>
